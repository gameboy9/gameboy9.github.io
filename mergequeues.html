<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="css/w3.css">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Game Queue Merger</title>
	<style>
		.truncate {
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.border-left-thick {
			border-left: 5px solid #ccc;
		}

		.queue-list-flex {
			flex-wrap: wrap;
		}

		.queue-flex {
			flex-grow: 0;
			flex-shrink: 0;
			flex-basis: 470px;
		}
	</style>
</head>

<body onload="initializeFromStorage()">
	<div w3-include-html="menu.html"></div>

	<div class="w3-container w3-row" style="margin-top: 64px;">
		<label for="matchPlayApiKey">Match Play Events API Token: </label>
		<input type="password" id="matchPlayApiKey" name="matchPlayApiKey" />
		<a class="w3-button" href="https://app.matchplay.events/api-docs/#authenticating-requests" title="Match Play Events API Authentication Documentation">ðŸ›ˆ</a>
		<a class="w3-button" href="https://app.matchplay.events/account/tokens" title="Create an API Token in your MPE Account Settings">ðŸ”‘</a>
		<button class="w3-button w3-dark-grey w3-hover-black w3-round" type="button" onclick="saveApiKey()" title="Writes your key to browser local storage">Save API Key</button>
		<button class="w3-button w3-dark-grey w3-hover-black w3-round" type="button" onclick="clearSavedApiKey()" title="Clears any key saved in browser local storage">Clear Saved Key</button>
	</div>
	
	<div class="w3-container w3-row" style="margin-top: 16px;">
		<label for="tournamentIdA">Tournament 1: </label>
		<input type="number" id="tournamentIdA" name="tournamentIdA" value="198946" />
	</div>
	<div class="w3-container w3-row" style="margin-top: 8px;">
		<label for="tournamentShortNameA">Queue name: </label>
		<input type="text" id="tournamentShortNameA" name="tournamentShortNameA" value="Open" />
		(optional)
	</div>
	
	<div class="w3-container w3-row" style="margin-top: 16px;">
		<label for="tournamentIdB">Tournament 2: </label>
		<input type="number" id="tournamentIdB" name="tournamentIdB" value="199019" />
	</div>
	<div class="w3-container w3-row" style="margin-top: 8px;">
		<label for="tournamentShortNameB">Queue name: </label>
		<input type="text" id="tournamentShortNameB" name="tournamentShortNameB" value="Women's" />
		(optional)
	</div>
	
	<div class="w3-row w3-container" style="margin-top: 16px;">
		<button class="w3-button w3-green w3-hover-black w3-round" type="button" onclick="loadQueuesButton()">Load Queues</button>
		<button class="w3-button w3-pale-red w3-hover-black w3-round" type="button" onclick="loadPlayersButton()">Load Missing Players</button>
		<button class="w3-button w3-pale-green w3-hover-black w3-round" type="button" id="startAutoLoadButton" onclick="startAutoLoadQueuesButton()">Start Auto-refresh</button>
		<button class="w3-button w3-pale-blue w3-hover-black w3-round w3-hide" type="button" id="stopAutoLoadButton" onclick="stopAutoLoadQueuesButton()">Stop Auto-refresh</button>
		<span class="w3-hide" id="lastUpdated">Last updated: never</span>
	</div>

	<div class="w3-row w3-container w3-hide" style="margin-top: 16px;" id="queueSummaryTitle">
		<h2 class="w3-col s12 m10 l8">Queue Summary</h2>
	</div>
	<div class="w3-row w3-container w3-hide" id="queueSummaryHeader">
		<div class="w3-col s3 m3 l3"><b>Arena</b></div>
		<div class="w3-col s3 m3 l3"><b>On Game</b></div>
		<div class="w3-col s3 m3 l3"><b>Up Next</b></div>
		<div class="w3-col s3 m3 l3"><b>3rd</b></div>
	</div>
	<div class="w3-row w3-container w3-hide" id="queueSummaryRowTemplate">
		<div class="w3-col s3 m3 l3 w3-border-top truncate"></div>
		<div class="w3-col s3 m3 l3 w3-border-top truncate"></div>
		<div class="w3-col s3 m3 l3 w3-border-top truncate"></div>
		<div class="w3-col s3 m3 l3 w3-border-top truncate"></div>
	</div>

	<div class="w3-row w3-container w3-hide" style="margin-top: 16px;" id="fullQueuesTitle">
		<h2 class="w3-col s12 m10 l8">Full Queues</h2>
	</div>
	<div class="w3-row w3-container w3-hide" style="margin-top: 16px;" id="queueNameTemplate">
		<h3 class="w3-col s12 m10 l8 truncate">Arena</h3>
	</div>
	<div class="w3-row w3-container w3-hide" id="queueHeaderTemplate">
		<div class="w3-col s2 m2 l1 w3-center"><b>#</b></div>
		<div class="w3-col s4 m4 l4 truncate"><b>Player</b></div>
		<div class="w3-col s3 m3 l2 truncate"><b>Queue</b></div>
		<div class="w3-col s3 m3 l3 w3-right-align truncate"><b>Waited</b></div>
	</div>
	<div class="w3-row w3-container w3-hide" id="queueRowTemplate">
		<div class="w3-col s2 m2 l1 w3-border-top w3-center"></div>
		<div class="w3-col s4 m4 l4 w3-border-top truncate"></div>
		<div class="w3-col s3 m3 l2 w3-border-top truncate"></div>
		<div class="w3-col s3 m3 l3 w3-border-top w3-right-align truncate"></div>
	</div>

	<div class="w3-container" style="margin-top: 32px;">
		<h6 class="w3-opacity">
			This utility is written by Tommy V as part of the pinball toolset created by Patrick F. aka gameboyf9.  All are welcome to <a href="https://github.com/gameboy9/gameboy9.github.io">check my work</a> and open an issue if there any problems or inaccuracies are found.
		</h6>
	</div>
</body>
<script src="js/mergequeues.js"></script>
<script src="js/menu.js"></script>
<script>includeHTML();</script>
</html>